{
  "GET_ALL": {
    "endpoint": "/api/movimientos",
    "response": {
      "movimientos": [
        {
          "id": 1,
          "tipo": "TRANSFERENCIA",
          "fechaSolicitud": "2024-03-12T10:00:00Z",
          "fechaAprobacion": null,
          "estado": "PENDIENTE",
          "origen": {
            "id": 1,
            "nombre": "Central Principal",
            "tipo": "central"
          },
          "destino": {
            "id": 2,
            "nombre": "Sucursal Norte",
            "tipo": "sucursal"
          },
          "solicitante": {
            "id": 1,
            "nombre": "Juan Pérez",
            "rol": "Vendedor"
          },
          "aprobador": null,
          "detalles": [
            {
              "id": 1,
              "producto": {
                "id": 1,
                "codigo": "CAS001",
                "nombre": "Casco MT Thunder"
              },
              "cantidad": 5,
              "cantidadRecibida": null,
              "estado": "PENDIENTE"
            }
          ]
        },
        {
          "id": 2,
          "tipo": "TRANSFERENCIA",
          "fechaSolicitud": "2024-03-11T15:00:00Z",
          "fechaAprobacion": "2024-03-11T16:00:00Z",
          "estado": "FINALIZADO",
          "origen": {
            "id": 1,
            "nombre": "Central Principal",
            "tipo": "central"
          },
          "destino": {
            "id": 3,
            "nombre": "Sucursal Sur",
            "tipo": "sucursal"
          },
          "solicitante": {
            "id": 2,
            "nombre": "María García",
            "rol": "Vendedor"
          },
          "aprobador": {
            "id": 3,
            "nombre": "Carlos López",
            "rol": "Administrador"
          },
          "detalles": [
            {
              "id": 2,
              "producto": {
                "id": 2,
                "codigo": "ACE001",
                "nombre": "Aceite Motul 5100"
              },
              "cantidad": 10,
              "cantidadRecibida": 10,
              "estado": "FINALIZADO"
            }
          ]
        }
      ],
      "total": 2,
      "pagina": 1,
      "porPagina": 10
    }
  },
  "GET": {
    "endpoint": "/api/movimientos/:id",
    "response": {
      "id": 1,
      "tipo": "TRANSFERENCIA",
      "fechaSolicitud": "2024-03-12T10:00:00Z",
      "fechaAprobacion": null,
      "estado": "PENDIENTE",
      "origen": {
        "id": 1,
        "nombre": "Central Principal",
        "tipo": "central"
      },
      "destino": {
        "id": 2,
        "nombre": "Sucursal Norte",
        "tipo": "sucursal"
      },
      "solicitante": {
        "id": 1,
        "nombre": "Juan Pérez",
        "rol": "Vendedor"
      },
      "aprobador": null,
      "detalles": [
        {
          "id": 1,
          "producto": {
            "id": 1,
            "codigo": "CAS001",
            "nombre": "Casco MT Thunder"
          },
          "cantidad": 5,
          "cantidadRecibida": null,
          "estado": "PENDIENTE"
        }
      ]
    }
  },
  "POST": {
    "endpoint": "/api/movimientos",
    "request": {
      "tipo": "TRANSFERENCIA",
      "origenId": 1,
      "destinoId": 2,
      "solicitanteId": 1,
      "detalles": [
        {
          "productoId": 1,
          "cantidad": 5
        }
      ]
    },
    "response": {
      "id": 3,
      "tipo": "TRANSFERENCIA",
      "fechaSolicitud": "2024-03-12T10:00:00Z",
      "fechaAprobacion": null,
      "estado": "PENDIENTE",
      "origen": {
        "id": 1,
        "nombre": "Central Principal",
        "tipo": "central"
      },
      "destino": {
        "id": 2,
        "nombre": "Sucursal Norte",
        "tipo": "sucursal"
      },
      "solicitante": {
        "id": 1,
        "nombre": "Juan Pérez",
        "rol": "Vendedor"
      },
      "aprobador": null,
      "detalles": [
        {
          "id": 3,
          "producto": {
            "id": 1,
            "codigo": "CAS001",
            "nombre": "Casco MT Thunder"
          },
          "cantidad": 5,
          "cantidadRecibida": null,
          "estado": "PENDIENTE"
        }
      ]
    }
  },
  "PATCH": {
    "endpoint": "/api/movimientos/:id",
    "request": {
      "estado": "APROBADO",
      "aprobadorId": 3,
      "detalles": [
        {
          "id": 1,
          "cantidadRecibida": 5,
          "estado": "FINALIZADO"
        }
      ]
    },
    "response": {
      "id": 1,
      "tipo": "TRANSFERENCIA",
      "fechaSolicitud": "2024-03-12T10:00:00Z",
      "fechaAprobacion": "2024-03-12T11:00:00Z",
      "estado": "FINALIZADO",
      "origen": {
        "id": 1,
        "nombre": "Central Principal",
        "tipo": "central"
      },
      "destino": {
        "id": 2,
        "nombre": "Sucursal Norte",
        "tipo": "sucursal"
      },
      "solicitante": {
        "id": 1,
        "nombre": "Juan Pérez",
        "rol": "Vendedor"
      },
      "aprobador": {
        "id": 3,
        "nombre": "Carlos López",
        "rol": "Administrador"
      },
      "detalles": [
        {
          "id": 1,
          "producto": {
            "id": 1,
            "codigo": "CAS001",
            "nombre": "Casco MT Thunder"
          },
          "cantidad": 5,
          "cantidadRecibida": 5,
          "estado": "FINALIZADO"
        }
      ]
    }
  },
  "DELETE": {
    "endpoint": "/api/movimientos/:id",
    "response": {
      "mensaje": "Movimiento eliminado correctamente",
      "status": 200
    }
  },
  "GET_BY_SUCURSAL": {
    "endpoint": "/api/sucursales/:id/movimientos",
    "response": {
      "movimientos": [
        {
          "id": 1,
          "tipo": "TRANSFERENCIA",
          "fechaSolicitud": "2024-03-12T10:00:00Z",
          "estado": "PENDIENTE",
          "origen": {
            "id": 1,
            "nombre": "Central Principal"
          },
          "destino": {
            "id": 2,
            "nombre": "Sucursal Norte"
          },
          "solicitante": {
            "id": 1,
            "nombre": "Juan Pérez"
          }
        }
      ],
      "total": 1,
      "pagina": 1,
      "porPagina": 10
    }
  },
  "COMENTARIOS": [
    "El backend debe implementar todos los endpoints CRUD para movimientos",
    "Se necesita un endpoint para obtener los movimientos por sucursal (origen o destino)",
    "Se necesita un endpoint para obtener los movimientos por estado",
    "Se necesita un endpoint para aprobar o rechazar un movimiento",
    "Se necesita un endpoint para recibir parcialmente un movimiento",
    "El frontend necesita poder filtrar movimientos por tipo, estado, fecha y sucursal",
    "Se debe validar que haya stock suficiente en la sucursal de origen",
    "Se debe actualizar automáticamente el stock al aprobar o recibir un movimiento"
  ]
} 